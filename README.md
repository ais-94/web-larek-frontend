# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:

- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск

Для установки и запуска проекта необходимо выполнить команды

```sh
npm install
npm run start
```
или

```sh
yarn
yarn start
```

## Сборка

```sh
npm run build
```

или

```sh
yarn build
```

## Проектирование архитектуры веб-приложения

** Код реализован на паттерне программирования MVP (Model-View-Presenter)

Модель (Model) - слой данных: изменяет данные и генерирует событие**

Представление (View) слой отображения, интерфейс для взаимодействия с пользователем, реагирует на действие пользователя и генерирует событие**

Презентер (Presenter) слушает события в пользовательском интерфейсе и принимает решение, извлекает данные из модели**

### Классы с группировкой по слоям.

### Базовый код:
Класс EventEmitter

Модель данных: Брокер событий

Методы:

on - Установить обработчик на событие
off - Снять обработчик с события
emit - Инициировать событие с данными
onAll - Слушать все события
offAll - Сбросить все обработчики
trigger - Сделать коллбек триггер, генерирующий событие при вызове

Класс class Component<T> -  класс для работы с DOM в дочерних компонентах
Методы:
toggleClass - переключить класс
setText - замениить текстовое содержимое
setDisabled - сменить статус блокировки
setHidden - Скрыть элемент
setVisible - Показать элемент
setImage -Установить изображение с алтернативным текстом
render - Вернуть корневой DOM-элемент

Класс Api - 
handleResponse - обрабатывает и возвращает ответ сервера
get(uri: string) - принимает данные url, возвращает ответ
post(uri: string, data: object, method: ApiPostMethods = 'POST') - отправка данных на сервер

Класс Model<T> - класс, чтобы можно было отличить ее от простых объектов с данными
Методы: 
emitChanges -для сообщения, что модель поменялась


### Слой данных:

Класс BasketData - работа с данными корзины
Методы:
addСard - добавляет товар в корзину
deleteCardofBasket - удаляет товар из корзины
clearBasketCards - удаляет все товары из корзины
getCardsCount - устанавливает количество товаров в корзине
getBasketPrice - вычисляет и возвращает сумму синапсов всех товаров в корзине


Класс ApiModel
Методы
getListProductCard - получаем массив объектов(карточек) с сервера.
postOrderLot - получаем ответ от сервера по сделанному/отправленному заказу.

Класс DataModel принимает и хранит данные продуктов полученные с сервера.
Метод:
setData - получает инфмацию о товаре 
Геттер - 
productCards - получает информацию о карточки товара
Сеттеры:
set productCards - устанавливает данные карточки

Класс OrderModel - устанавливает способы оплаты
OrderInfo - отправляет данные оплаты
validateInfo - валидация данных


Класс OrderForm  - хранит данные полученные от пользователя.
Методы:
setOrderPayment - устанавливает вид оплаты
setOrderAddress - устанавливает адрес пользователя
setOrderContact- устанавливает контакты пользователя.
getOrderData - возвращает объект заказа
validateOrder - валидация введенных данных
clearOrder - удаление введенных данных

### Слой представления:

Класс Modal - управляет отображением модальных окон.
Методы:
open() - открыть окно.
close() - закрыть окно.

Класс Card - отвечает за отображение карточки товара, корзины.
методы:
setText - установка информации карточки
setPrice - установка стоимости или отсутсвие цены
render - отображение данных карточки 
Сеттеры:
cardCategory - устанавливает категорию карточки товара

Класс Basket - управляет отображением корзины
renderBasket - отображает список товаров и общую стоимость

Класс CardInfoView - для отображения информации отдельной карточки
методы
renderCardInfo - отображает инфмацию о товаре


Класс Contacts управляет отображением содержимого модального окна и позволяет принять от пользователя номер телефона и Email.
Методы:
set selectContacts - устанавливает поля ввода электронной почты и телефона 


Класс Success - отображение успешного заказа в модальном окне
Методы:
render - отображение успешного заказа в модальном окне

### Слой презентера:
Слой презентера реализован в файле index.ts использую методы классов 

